<%%= form_for(<%= "[:#{prefix}, @#{singular_table_name}]" %>, :html => {class: 'form-horizontal', id: 'smart-form-register'}) do |f| %>
  <% attributes.each do |attribute| -%>
    <% if attribute.password_digest? -%>
      <div class="form-group">
        <label for="information" class="col-sm-2 control-label"><%= f.label :password %></label>
        <div class="col-sm-8">
          <%= f.password_field :password, class: 'form-control' %>
        </div>
      </div>
      <div class="form-group">
        <label for="information" class="col-sm-2 control-label"><%= f.label :password_confirmation %></label>
        <div class="col-sm-8">
          <%= f.password_field :password_confirmation, class: 'form-control' %>
        </div>
      </div>
    <% else -%>
      <% if attribute.reference? -%>
        <div class="form-group">
          <%%= f.label :<%= attribute.column_name %>, class: "col-sm-2 control-label" %><br>
          <div class="col-sm-8">
            <%%= f.collection_select :<%= attribute.column_name %>, <%= attribute.name.camelize %>.all, :id, :name, prompt: true, class: 'form-control'  %>
          </div>
        </div>
      <% else %>
        <%%= f.label :<%= attribute.column_name %>, class: "col-sm-2 control-label" %><br>
        <div class="col-sm-8">
          <%%= f.<%= attribute.field_type %> :<%= attribute.name %>, class: 'form-control' %>
        </div>
      <% end %>
    <% end %>
  <% end %>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-8">
      <%= f.submit :class => "btn btn-primary"%>
    </div>
  </div>
<% end %>
